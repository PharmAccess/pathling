"use strict";(self.webpackChunkpathling_site=self.webpackChunkpathling_site||[]).push([[184],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(n),d=a,h=m["".concat(p,".").concat(d)]||m[d]||u[d]||i;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5028:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],s={sidebar_position:4},p="Extract",l={unversionedId:"server/operations/extract",id:"server/operations/extract",title:"Extract",description:"FHIR OperationDefinition",source:"@site/docs/server/operations/extract.md",sourceDirName:"server/operations",slug:"/server/operations/extract",permalink:"/docs/server/operations/extract",draft:!1,editUrl:"https://github.com/aehrc/pathling/tree/main/site/docs/server/operations/extract.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"server",previous:{title:"Aggregate",permalink:"/docs/server/operations/aggregate"},next:{title:"Update and batch",permalink:"/docs/server/operations/update"}},c={},u=[{value:"Request",id:"request",level:2},{value:"Response",id:"response",level:2},{value:"Examples",id:"examples",level:2}],m={toc:u};function d(e){var t=e.components,s=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"extract"},"Extract"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://pathling.csiro.au/fhir/OperationDefinition/extract-5"},"FHIR OperationDefinition")),(0,i.kt)("p",null,"This operation allows a user to create arbitrary tabular extracts from FHIR\ndata, by specifying columns in terms of set of FHIRPath expressions that are\nused to populate them. A URL is returned that points to a delimited text file\nthat contains the result of executing the expressions against each subject\nresource."),(0,i.kt)("p",null,"The extract operation is useful for preparing data for use within other tools,\nand helps to alleviate some of the burden of dealing with FHIR data in its raw\nform."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"aggregate")," operation supports the ",(0,i.kt)("a",{parentName:"p",href:"../async"},"Asynchronous Request Pattern"),",\nwhich allows you to kick off a long-running request and check on its progress\nusing a status endpoint."))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If you request a column with the ",(0,i.kt)("inlineCode",{parentName:"p"},"Coding")," type, it will be expressed within the\nresulting extract using\nthe ",(0,i.kt)("a",{parentName:"p",href:"/docs/fhirpath/data-types#coding"},"Coding literal format"),"."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET [FHIR endpoint]/[resource type]/$extract?[parameters...]\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"POST [FHIR endpoint]/[resource type]/$extract\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Extract",src:n(9931).Z+"#light-mode-only",title:"Extract",width:"595",height:"389"}),"\n",(0,i.kt)("img",{alt:"Extract",src:n(2634).Z+"#dark-mode-only",title:"Extract",width:"595",height:"389"})),(0,i.kt)("h2",{id:"request"},"Request"),(0,i.kt)("p",null,"The request for the ",(0,i.kt)("inlineCode",{parentName:"p"},"$extract")," operation is either a GET request, or a POST\nrequest containing a ",(0,i.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/parameters.html"},"Parameters"),"\nresource. The following parameters are supported:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"column [1..*]")," - (string) A FHIRPath expression that defines a column within\nthe result. The context is a single resource of the subject resource type.\nThe expression must return a\n",(0,i.kt)("a",{parentName:"li",href:"/docs/fhirpath/data-types#materializable-types"},"materializable type"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filter [0..*]")," - (string) A FHIRPath expression that can be evaluated against\neach resource in the data set to determine whether it is included within the\nresult. The context is an individual resource of the subject resource type.\nThe expression must evaluate to a Boolean value. Multiple filters are combined\nusing AND logic."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"limit [0..1]")," - (integer) The maximum number of rows to return.")),(0,i.kt)("h2",{id:"response"},"Response"),(0,i.kt)("p",null,"The response for the ",(0,i.kt)("inlineCode",{parentName:"p"},"$extract")," operation is a\n",(0,i.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/parameters.html"},"Parameters")," resource containing the\nfollowing parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"url [1]")," - A URL at which the result of the operation can be retrieved.")),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("p",null,"Check out example ",(0,i.kt)("inlineCode",{parentName:"p"},"extract")," requests in the Postman collection:"),(0,i.kt)("a",{class:"postman-link",href:"https://documenter.getpostman.com/view/634774/UVsQs48s#1aa5cb8f-6931-417c-be20-d295a05af8ed"},(0,i.kt)("img",{src:"https://run.pstmn.io/button.svg",alt:"Run in Postman"})))}d.isMDXComponent=!0},2634:function(e,t,n){t.Z=n.p+"assets/images/extract-dark-a7a07403b94ff995d8574c5415e7867a.svg"},9931:function(e,t,n){t.Z=n.p+"assets/images/extract-463a82e90b3d800b1b038dc9fb4190a9.svg"}}]);