"use strict";(self.webpackChunkpathling_site=self.webpackChunkpathling_site||[]).push([[586],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),h=i,d=u["".concat(p,".").concat(h)]||u[h]||m[h]||r;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2906:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return m}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={sidebar_position:4},p="Functions",s={unversionedId:"fhirpath/functions",id:"fhirpath/functions",title:"Functions",description:"FHIRPath supports the notion of functions, which all take a collection of values",source:"@site/docs/fhirpath/functions.md",sourceDirName:"fhirpath",slug:"/fhirpath/functions",permalink:"/docs/fhirpath/functions",draft:!1,editUrl:"https://github.com/aehrc/pathling/tree/main/site/docs/fhirpath/functions.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"fhirpath",previous:{title:"Operators",permalink:"/docs/fhirpath/operators"}},c={},m=[{value:"count",id:"count",level:2},{value:"sum",id:"sum",level:2},{value:"first",id:"first",level:2},{value:"empty",id:"empty",level:2},{value:"not",id:"not",level:2},{value:"anyTrue",id:"anytrue",level:2},{value:"anyFalse",id:"anyfalse",level:2},{value:"allTrue",id:"alltrue",level:2},{value:"allFalse",id:"allfalse",level:2},{value:"where",id:"where",level:2},{value:"iif",id:"iif",level:2},{value:"memberOf",id:"memberof",level:2},{value:"subsumes",id:"subsumes",level:2},{value:"subsumedBy",id:"subsumedby",level:2},{value:"translate",id:"translate",level:2},{value:"resolve",id:"resolve",level:2},{value:"ofType",id:"oftype",level:2},{value:"extension",id:"extension",level:2}],u={toc:m};function h(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"functions"},"Functions"),(0,r.kt)("p",null,"FHIRPath supports the notion of functions, which all take a collection of values\nas input and produce another collection as output and may take parameters."),(0,r.kt)("p",null,"The notation used to describe the type signature of each function is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[input type] -> [function name]([argument name]: [argument type], ...): [return type]\n")),(0,r.kt)("h2",{id:"count"},"count"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> count() : Integer\n")),(0,r.kt)("p",null,"Returns the ",(0,r.kt)("a",{parentName:"p",href:"./data-types#integer"},"Integer")," count of the number of items in\nthe input collection."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.name.given.count()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#count-integer"},"count")),(0,r.kt)("h2",{id:"sum"},"sum"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> sum() : Integer|Decimal\n")),(0,r.kt)("p",null,"Returns the sum of the numeric values (",(0,r.kt)("a",{parentName:"p",href:"./data-types#integer"},"Integer")," or\n",(0,r.kt)("a",{parentName:"p",href:"./data-types#decimal"},"Decimal"),") in the input collection."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Observation.valueDecimal.sum()\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"sum")," function is not within the FHIRPath specification, and is currently\nunique to the Pathling implementation."))),(0,r.kt)("h2",{id:"first"},"first"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> first() : collection\n")),(0,r.kt)("p",null,"Returns a collection containing only the first item in the input collection.\nThis function will return an empty collection if the input collection has no\nitems."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.name.given.first()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#first-collection"},"first")),(0,r.kt)("h2",{id:"empty"},"empty"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> empty() : Boolean\n")),(0,r.kt)("p",null,"Returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the input collection is empty, and ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," otherwise."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.reverseResolve(Condition.subject).empty()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#empty-boolean"},"empty")),(0,r.kt)("h2",{id:"not"},"not"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Boolean -> not() : Boolean\n")),(0,r.kt)("p",null,"Returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the input collection evaluates to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," if it\nevaluates to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". Otherwise, the result is empty (",(0,r.kt)("inlineCode",{parentName:"p"},"{ }"),")."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"(Patient.name.given contains 'Frank').not()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"http://hl7.org/fhirpath/#not-boolean"},"not")),(0,r.kt)("h2",{id:"anytrue"},"anyTrue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> anyTrue() : Boolean\n")),(0,r.kt)("p",null,"Takes a collection of Boolean values and returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if any of the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". If all the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", or if the input is empty (",(0,r.kt)("inlineCode",{parentName:"p"},"{ }"),"), the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.code.memberOf('http://snomed.info/sct?fhir_vs=refset/32570581000036105').anyTrue()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#anytrue-boolean"},"anyTrue")),(0,r.kt)("h2",{id:"anyfalse"},"anyFalse"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> anyFalse() : Boolean\n")),(0,r.kt)("p",null,"Takes a collection of Boolean values and returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if any of the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),". If all the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", or if the input is empty (",(0,r.kt)("inlineCode",{parentName:"p"},"{ }"),"), the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.code.memberOf('http://snomed.info/sct?fhir_vs=refset/32570581000036105').anyFalse()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#anyfalse-boolean"},"anyFalse")),(0,r.kt)("h2",{id:"alltrue"},"allTrue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> allTrue() : Boolean\n")),(0,r.kt)("p",null,"Takes a collection of Boolean values and returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if all the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". If any items are ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),". If the input is empty (",(0,r.kt)("inlineCode",{parentName:"p"},"{ }"),"), the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.code.memberOf('http://snomed.info/sct?fhir_vs=refset/32570581000036105').allTrue()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#alltrue-boolean"},"allTrue")),(0,r.kt)("h2",{id:"allfalse"},"allFalse"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> allFalse() : Boolean\n")),(0,r.kt)("p",null,"Takes a collection of Boolean values and returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if all the items are ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),". If any items are ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),". If the input is empty (",(0,r.kt)("inlineCode",{parentName:"p"},"{ }"),"), the result is ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.code.memberOf('http://snomed.info/sct?fhir_vs=refset/32570581000036105').allFalse()\n")),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#allfalse-boolean"},"allFalse")),(0,r.kt)("h2",{id:"where"},"where"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> where(criteria: [any]) : collection\n")),(0,r.kt)("p",null,"Returns a collection containing only those elements in the input collection for\nwhich the ",(0,r.kt)("inlineCode",{parentName:"p"},"criteria")," expression evaluates to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". Elements for which the\nexpression evaluates to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," or an empty collection will return an empty\ncollection."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"$this")," keyword can be used within the criteria expression to refer to the\nitem from the input collection currently under evaluation. The context inside\nthe arguments is also set to the current item, so paths from the root are\nassumed to be path traversals from the current element."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.reverseResolve(Condition.subject).where(recordedDate > @1960).severity\n")),(0,r.kt)("p",null,"See also:\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#wherecriteria-expression-collection"},"where")),(0,r.kt)("h2",{id:"iif"},"iif"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[any] -> iif(condition: Boolean, ifTrue: [any], otherwise: [any]) : [any]\n")),(0,r.kt)("p",null,"Takes three arguments, the first of which is a Boolean expression. Returns the\nsecond argument if the first argument evaluates to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", or the third argument\notherwise."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ifTrue")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"otherwise")," arguments must be of the same type."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.name.family.iif(empty(), 'Doe', $this)\n")),(0,r.kt)("p",null,"See also:\n",(0,r.kt)("a",{parentName:"p",href:"http://hl7.org/fhirpath/#iifcriterion-expression-true-result-collection-otherwise-result-collection-collection"},"iif")),(0,r.kt)("h2",{id:"memberof"},"memberOf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection<Coding|CodeableConcept> -> memberOf() : collection<Boolean>\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"memberOf")," function can be invoked on a collection of\n",(0,r.kt)("a",{parentName:"p",href:"./data-types#coding"},"Coding")," or\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/datatypes.html#CodeableConcept"},"CodeableConcept"),"\nvalues, returning a collection of ",(0,r.kt)("a",{parentName:"p",href:"./data-types#boolean"},"Boolean")," values\nbased on whether each concept is a member of the\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/valueset.html"},"ValueSet")," with the specified\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/valueset-definitions.html#ValueSet.url"},"url"),"."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"memberOf")," function is a terminology function, which means that it requires\na configured\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/terminology-service.html"},"terminology service"),". See\n",(0,r.kt)("a",{parentName:"p",href:"/docs/server/configuration#terminology-service"},"Configuration")," for details."))),(0,r.kt)("p",null,"See also:\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/fhirpath.html#functions"},"Additional functions")),(0,r.kt)("h2",{id:"subsumes"},"subsumes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection<Coding|CodeableConcept> -> subsumes(code: Coding|CodeableConcept) : collection<Boolean>\n")),(0,r.kt)("p",null,"This function takes a collection of ",(0,r.kt)("a",{parentName:"p",href:"./data-types#coding"},"Coding")," or\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/datatypes.html#CodeableConcept"},"CodeableConcept"),"\nelements as input, and another collection as the argument. The result is a\ncollection with a Boolean value for each source concept, each value being true\nif the concept subsumes any of the concepts within the argument collection, and\nfalse otherwise."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.reverseResolve(Condition.subject).code.subsumes(http://snomed.info/sct|770581008)\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"subsumes")," function is a terminology function, which means that it requires\na configured\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/terminology-service.html"},"terminology service"),". See\n",(0,r.kt)("a",{parentName:"p",href:"/docs/server/configuration#terminology-service"},"Configuration")," for details."))),(0,r.kt)("p",null,"See also:\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/fhirpath.html#functions"},"Additional functions")),(0,r.kt)("h2",{id:"subsumedby"},"subsumedBy"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection<Coding|CodeableConcept> -> subsumedBy(code: Coding|CodeableConcept) : collection<Boolean>\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"subsumedBy")," function is the inverse of the ",(0,r.kt)("a",{parentName:"p",href:"#subsumes"},"subsumes")," function,\nexamining whether each input concept is ",(0,r.kt)("em",{parentName:"p"},"subsumed by")," any of the argument\nconcepts."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Patient.reverseResolve(Condition.subject).code.subsumedBy(http://snomed.info/sct|73211009)\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"subsumedBy")," function is a terminology function, which means that it\nrequires a configured\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/terminology-service.html"},"terminology service"),". See\n",(0,r.kt)("a",{parentName:"p",href:"/docs/server/configuration#terminology-service"},"Configuration")," for details."))),(0,r.kt)("p",null,"See also:\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/fhirpath.html#functions"},"Additional functions")),(0,r.kt)("h2",{id:"translate"},"translate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection<Coding|CodeableConcept> -> translate(conceptMapUrl: string, reverse = false, equivalence = 'equivalent') : collection<Coding>\n")),(0,r.kt)("p",null,"When invoked on a ",(0,r.kt)("a",{parentName:"p",href:"./data-types#coding"},"Coding"),"-valued element, returns any\nmatching concepts using the ConceptMap specified using ",(0,r.kt)("inlineCode",{parentName:"p"},"conceptMapUrl"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"reverse")," parameter controls the direction to traverse the map - ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),'\nresults in "source to target" mappings, while ',(0,r.kt)("inlineCode",{parentName:"p"},"true"),' results in "target to\nsource".'),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"equivalence")," parameter is a comma-delimited set of values from\nthe ",(0,r.kt)("a",{parentName:"p",href:"https://www.hl7.org/fhir/R4/valueset-concept-map-equivalence.html"},"ConceptMapEquivalence"),"\nValueSet, and is used to filter the mappings returned to only those that have an\nequivalence value in this list."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.code.coding.translate('https://csiro.au/fhir/ConceptMap/some-map', true, 'equivalent,wider').display\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"translate")," function is a terminology function, which means that it requires\na configured\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/terminology-service.html"},"terminology service"),". See\n",(0,r.kt)("a",{parentName:"p",href:"/docs/server/configuration#terminology-service"},"Configuration")," for details."))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"translate")," function is not within the FHIRPath specification, and is\ncurrently unique to the Pathling implementation."))),(0,r.kt)("h2",{id:"resolve"},"resolve"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Reference -> resolve(): collection<Resource>\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"resolve")," function is used to traverse references between FHIR resources.\nGiven a collection of\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/references.html#Reference"},"References"),", this function\nwill return a collection of the resources to which they refer."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"AllergyIntolerance.patient.resolve().gender\n")),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The following types of references are not currently supported:"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"References to individual technical versions of a resource"),(0,r.kt)("li",{parentName:"ul"},"Logical references (via ",(0,r.kt)("code",null,"identifier"),")"),(0,r.kt)("li",{parentName:"ul"},"References to contained resources"),(0,r.kt)("li",{parentName:"ul"},"Absolute literal references\n:::")),(0,r.kt)("p",{parentName:"div"},"See also:\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/fhirpath.html#functions"},"Additional functions")),(0,r.kt)("h2",{parentName:"div",id:"reverseresolve"},"reverseResolve"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"collection<Resource> -> reverseResolve(sourceReference: Reference): collection<Resource>\n")),(0,r.kt)("p",{parentName:"div"},"In FHIR, resource references are unidirectional, and often the source of the\nreference will be a resource type which is not the subject of the current path."),(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"reverseResolve")," function takes a collection of Resources as input, and a\n",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/references.html#Reference"},"Reference")," as the argument.\nIt returns a collection of all the parent resources of the source References\nthat resolve to the input resource."),(0,r.kt)("p",{parentName:"div"},"Example:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"Patient.reverseResolve(Encounter.subject).reasonCode\n")))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"reverseResolve")," function is not within the FHIRPath specification, and is\ncurrently unique to the Pathling implementation.\n:::"),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The same caveats apply with regards to types of references supported as\ndescribed in the ",(0,r.kt)("a",{parentName:"p",href:"#resolve"},"resolve")," function."))),(0,r.kt)("h2",{id:"oftype"},"ofType"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"collection -> ofType(type: Resource): collection\n")),(0,r.kt)("p",null,"Returns a collection that contains all items in the input collection that are of\nthe given type. It is often necessary to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"ofType")," function in\nconjunction with the ",(0,r.kt)("inlineCode",{parentName:"p"},"resolve")," function, to resolve references that are\npolymorphic."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Condition.subject.resolve().ofType(Patient).gender\n")),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This function is currently only supported for use with the ",(0,r.kt)("a",{parentName:"p",href:"#resolve"},"resolve"),"\nfunction, for the purpose of disambiguating polymorphic resource references."))),(0,r.kt)("p",null,"See also: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhirpath/#oftypetype-identifier-collection"},"ofType")),(0,r.kt)("h2",{id:"extension"},"extension"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[any] -> extension(url: string) : collection\n")),(0,r.kt)("p",null,"Will filter the input collection for items named ",(0,r.kt)("inlineCode",{parentName:"p"},"extension")," with the given url.\nThis is a syntactical shortcut for ",(0,r.kt)("inlineCode",{parentName:"p"},".extension.where(url = string)"),", but is\nsimpler to write. Will return an empty collection if the input collection is\nempty or the url is empty."),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Your extension content will only be encoded upon import if your encoding\nconfiguration has specified that it should be. Data types and maximum depth of\nencoding are both configurable.\nSee ",(0,r.kt)("a",{parentName:"p",href:"/docs/server/configuration#encoding"},"Configuration")," for more information."))),(0,r.kt)("p",null,"See\nalso: ",(0,r.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/fhirpath.html#functions"},"Additional functions")))}h.isMDXComponent=!0}}]);