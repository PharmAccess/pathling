<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Translate between value sets — tx_translate • pathling</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Translate between value sets — tx_translate"><meta property="og:description" content="Takes a Coding column as input. Returns the Column which contains an array of
Coding value with translation targets from the specified FHIR ConceptMap. There
may be more than one target concept for each input concept. Only the translation with
the specified equivalences are returned."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pathling</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">6.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/aehrc/pathling/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Translate between value sets</h1>
    <small class="dont-index">Source: <a href="https://github.com/aehrc/pathling/blob/HEAD/R/udfs.R" class="external-link"><code>R/udfs.R</code></a></small>
    <div class="hidden name"><code>tx_translate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a Coding column as input. Returns the Column which contains an array of
Coding value with translation targets from the specified FHIR ConceptMap. There
may be more than one target concept for each input concept. Only the translation with
the specified equivalences are returned.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tx_translate</span><span class="op">(</span></span>
<span>  <span class="va">codings</span>,</span>
<span>  <span class="va">concept_map_uri</span>,</span>
<span>  reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  equivalences <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  target <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>codings</dt>
<dd><p>A Column containing a struct representation of a Coding.</p></dd>


<dt>concept_map_uri</dt>
<dd><p>An identifier for a FHIR ConceptMap.</p></dd>


<dt>reverse</dt>
<dd><p>The direction to traverse the map. FALSE results in "source to target"
mappings, while TRUE results in "target to source".</p></dd>


<dt>equivalences</dt>
<dd><p>A value of a collection of values from the ConceptMapEquivalence ValueSet.</p></dd>


<dt>target</dt>
<dd><p>Identifies the value set in which a translation is sought. If there's no
target specified, the server should return all known translations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A Column containing the result of the operation (an array of Coding structs).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="Equivalence.html">Equivalence</a></code></p>
<p><a href="https://pathling.csiro.au/docs/libraries/terminology#concept-translation" class="external-link">Pathling documentation - Concept translation</a></p>
<p>Other terminology functions: 
<code><a href="tx_display.html">tx_display</a>()</code>,
<code><a href="tx_member_of.html">tx_member_of</a>()</code>,
<code><a href="tx_property_of.html">tx_property_of</a>()</code>,
<code><a href="tx_subsumed_by.html">tx_subsumed_by</a>()</code>,
<code><a href="tx_subsumes.html">tx_subsumes</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pc</span> <span class="op">&lt;-</span> <span class="fu"><a href="pathling_connect.html">pathling_connect</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Translates the codings of the Condition `code` using a SNOMED implicit concept map.</span></span></span>
<span class="r-in"><span><span class="va">pc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="pathling_example_resource.html">pathling_example_resource</a></span><span class="op">(</span><span class="st">'Condition'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">sparklyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="va">id</span>,</span></span>
<span class="r-in"><span>         translation <span class="op">=</span> <span class="op">!</span><span class="op">!</span><span class="fu">tx_translate</span><span class="op">(</span><span class="va">code</span><span class="op">[[</span><span class="st">'coding'</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                 <span class="st">'http://snomed.info/sct?fhir_cm=900000000000527005'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         .keep<span class="op">=</span><span class="st">'none'</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> org.apache.spark.sql.AnalysisException:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> [UNRESOLVED_COLUMN.WITH_SUGGESTION] A column or function parameter with name</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `Condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`*` cannot be resolved. Did</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> you mean one of the following?</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> [`condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`id`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`_fid`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`code`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`meta`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`.`note`].; line 2 pos 2;</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> 'Project ['Condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd.*,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> translate_coding(code#25.coding,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> http://snomed.info/sct?fhir_cm=900000000000527005, false, null, null) AS</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> translation#2186] +- SubqueryAlias</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd +- View</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> (`Condition_8c3457fe_a1f1_41a5_a181_d5bad8fd4edd`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> [id#14,id_versioned#15,meta#16,implicitRules#17,language#18,text#19,identifier#20,clinicalStatus#21,verificationStatus#22,category#23,severity#24,code#25,bodySite#26,subject#27,encounter#28,onsetAge#29,onsetDateTime#30,onsetPeriod#31,onsetRange#32,onsetString#33,abatementAge#34,abatementDateTime#35,abatementPeriod#36,abatementRange#37,abatementString#38,recordedDate#39,recorder#40,asserter#41,stage#42,evidence#43,note#44,_fid#45,_extension#46])</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> +- Relation</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> [id#14,id_versioned#15,meta#16,implicitRules#17,language#18,text#19,identifier#20,clinicalStatus#21,verificationStatus#22,category#23,severity#24,code#25,bodySite#26,subject#27,encounter#28,onsetAge#29,onsetDateTime#30,onsetPeriod#31,onsetRange#32,onsetString#33,abatementAge#34,abatementDateTime#35,abatementPeriod#36,abatementRange#37,...</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> 9 more fields] parquet</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Run `sparklyr::spark_last_error()` to see the full Spark error (multiple lines)</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> To use the previous style of error message set</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> `options("sparklyr.simple.errors" = TRUE)`</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="fu"><a href="pathling_disconnect.html">pathling_disconnect</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Australian e-Health Research Centre, CSIRO, Piotr Szul, John Grimes.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

